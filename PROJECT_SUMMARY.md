# ğŸ“Š unplugin-webfont é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**unplugin-webfont** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å­—ä½“è½¬æ¢å·¥å…·ï¼Œä¸“ä¸ºWebå¼€å‘è€…è®¾è®¡ï¼Œè§£å†³å­—ä½“æ–‡ä»¶è¿‡å¤§ã€æ ¼å¼ä¸å…¼å®¹ç­‰é—®é¢˜ã€‚

### æ ¸å¿ƒä»·å€¼

1. **å¤§å¹…å‡å°å­—ä½“ä½“ç§¯** - é€šè¿‡å­é›†åŒ–ï¼Œä¸­æ–‡å­—ä½“å¯å‡å°‘99%+çš„å¤§å°
2. **å¤šæ ¼å¼æ”¯æŒ** - ä¸€é”®è½¬æ¢TTFã€OTFã€WOFFã€WOFF2ç­‰æ ¼å¼
3. **å¼€å‘è€…å‹å¥½** - æä¾›æ’ä»¶ã€CLIã€UIä¸‰ç§ä½¿ç”¨æ–¹å¼
4. **é›¶é…ç½®ä½¿ç”¨** - å¼€ç®±å³ç”¨ï¼ŒåŒæ—¶æ”¯æŒæ·±åº¦å®šåˆ¶

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
unplugin-webfont/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ detector.ts          # å­—ä½“æ ¼å¼æ£€æµ‹ âœ…
â”‚   â”‚   â”œâ”€â”€ converter.ts         # æ ¼å¼è½¬æ¢å¼•æ“ âœ…
â”‚   â”‚   â”œâ”€â”€ subsetter.ts         # æ–‡æœ¬å­é›†åŒ– âœ…
â”‚   â”‚   â”œâ”€â”€ generator.ts         # CSSç”Ÿæˆå™¨ âœ…
â”‚   â”‚   â””â”€â”€ index.ts             # æ¨¡å—å¯¼å‡º
â”‚   â”œâ”€â”€ unplugin/                # æ„å»ºå·¥å…·æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts             # ä¸»æ’ä»¶é€»è¾‘ âœ…
â”‚   â”‚   â”œâ”€â”€ vite.ts              # Viteé€‚é…å™¨ âœ…
â”‚   â”‚   â”œâ”€â”€ webpack.ts           # Webpacké€‚é…å™¨ âœ…
â”‚   â”‚   â””â”€â”€ rollup.ts            # Rollupé€‚é…å™¨ âœ…
â”‚   â”œâ”€â”€ cli/                     # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ index.ts             # CLIå…¥å£ âœ…
â”‚   â”‚   â””â”€â”€ commands/            # å‘½ä»¤å®ç°
â”‚   â”‚       â”œâ”€â”€ convert.ts       # è½¬æ¢å‘½ä»¤ âœ…
â”‚   â”‚       â”œâ”€â”€ subset.ts        # å­é›†å‘½ä»¤ âœ…
â”‚   â”‚       â”œâ”€â”€ info.ts          # ä¿¡æ¯å‘½ä»¤ âœ…
â”‚   â”‚       â””â”€â”€ serve.ts         # UIæœåŠ¡å‘½ä»¤ âœ…
â”‚   â”œâ”€â”€ ui/                      # Webå¯è§†åŒ–ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ index.html           # HTMLå…¥å£ âœ…
â”‚   â”‚   â”œâ”€â”€ vite.config.ts       # Viteé…ç½® âœ…
â”‚   â”‚   â”œâ”€â”€ package.json         # UIä¾èµ– âœ…
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ main.ts          # Vueå…¥å£ âœ…
â”‚   â”‚       â””â”€â”€ App.vue          # ä¸»ç»„ä»¶ âœ…
â”‚   â””â”€â”€ types/                   # TypeScriptç±»å‹
â”‚       â””â”€â”€ index.ts             # ç±»å‹å®šä¹‰ âœ…
â”œâ”€â”€ test/                        # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ converter.test.ts        # å•å…ƒæµ‹è¯• âœ…
â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ vite-example/            # Viteç¤ºä¾‹ âœ…
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                # ä¸»æ–‡æ¡£ âœ…
â”‚   â”œâ”€â”€ QUICKSTART.md            # å¿«é€Ÿå¼€å§‹ âœ…
â”‚   â”œâ”€â”€ USAGE_GUIDE.md           # ä½¿ç”¨æŒ‡å— âœ…
â”‚   â”œâ”€â”€ ARCHITECTURE.md          # æ¶æ„è®¾è®¡ âœ…
â”‚   â””â”€â”€ IMPLEMENTATION_GUIDE.md  # å®æ–½æŒ‡å— âœ…
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½® âœ…
â”œâ”€â”€ tsconfig.json                # TSé…ç½® âœ…
â”œâ”€â”€ tsup.config.ts               # æ„å»ºé…ç½® âœ…
â”œâ”€â”€ vitest.config.ts             # æµ‹è¯•é…ç½® âœ…
â”œâ”€â”€ LICENSE                      # MITè®¸å¯ âœ…
â”œâ”€â”€ CHANGELOG.md                 # å˜æ›´æ—¥å¿— âœ…
â””â”€â”€ .gitignore                   # Gitå¿½ç•¥ âœ…
```

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å­—ä½“æ ¼å¼è½¬æ¢

**æ”¯æŒçš„æ ¼å¼ï¼š**
- è¾“å…¥ï¼šTTFã€OTFã€WOFFã€WOFF2
- è¾“å‡ºï¼šWOFF2ã€WOFFã€TTF

**è½¬æ¢æµç¨‹ï¼š**
```
è¾“å…¥æ ¼å¼ â†’ ç»Ÿä¸€ä¸ºTTFï¼ˆä¸­é—´æ ¼å¼ï¼‰ â†’ ç”Ÿæˆç›®æ ‡æ ¼å¼
```

**å…³é”®æŠ€æœ¯ï¼š**
- fontkit: å­—ä½“æ–‡ä»¶è§£æ
- opentype.js: OpenTypeå­—ä½“å¤„ç†
- wawoff2: WOFF2å‹ç¼©/è§£å‹
- pako: WOFFå‹ç¼©/è§£å‹ï¼ˆzlibï¼‰

### 2. æ–‡æœ¬å­é›†åŒ–

**åŠŸèƒ½è¯´æ˜ï¼š**
- åªä¿ç•™æŒ‡å®šçš„å­—ç¬¦
- å¤§å¹…å‡å°æ–‡ä»¶ä½“ç§¯
- ä¿ç•™å­—ä½“å…ƒä¿¡æ¯

**åº”ç”¨åœºæ™¯ï¼š**
- ä¸­æ–‡å­—ä½“ä¼˜åŒ–ï¼ˆ15MB â†’ 50KBï¼‰
- ç‰¹å®šå­—ç¬¦é›†åº”ç”¨
- æ ‡é¢˜å­—ä½“ä¼˜åŒ–

**å®ç°æ–¹å¼ï¼š**
```typescript
subsetFont({
  fontBuffer: Buffer,
  text: 'éœ€è¦ä¿ç•™çš„å­—ç¬¦',
  hinting: false
})
```

### 3. æ„å»ºå·¥å…·é›†æˆ

**unpluginç»Ÿä¸€æ¥å£ï¼š**
```typescript
import WebFont from 'unplugin-webfont/vite'  // æˆ– webpackã€rollup

WebFont({
  include: './fonts/*.ttf',
  text: 'å­—ç¬¦',
  formats: ['woff2', 'woff']
})
```

**æ”¯æŒçš„æ„å»ºå·¥å…·ï¼š**
- âœ… Vite
- âœ… Webpack
- âœ… Rollup
- ğŸ”„ esbuildï¼ˆè®¡åˆ’ä¸­ï¼‰

### 4. CLIå‘½ä»¤è¡Œå·¥å…·

**å‘½ä»¤åˆ—è¡¨ï¼š**
```bash
webfont convert   # è½¬æ¢æ ¼å¼
webfont subset    # åˆ›å»ºå­é›†
webfont info      # æŸ¥çœ‹ä¿¡æ¯
webfont serve     # å¯åŠ¨UI
```

**ç‰¹æ€§ï¼š**
- å½©è‰²è¾“å‡ºï¼ˆchalkï¼‰
- è¿›åº¦æ˜¾ç¤ºï¼ˆoraï¼‰
- äº¤äº’å¼é—®ç­”ï¼ˆinquirerï¼‰
- å‹å¥½çš„é”™è¯¯æç¤º

### 5. Webå¯è§†åŒ–ç•Œé¢

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- æ‹–æ‹½ä¸Šä¼ 
- å®æ—¶é¢„è§ˆ
- é…ç½®é¢æ¿
- æ‰¹é‡ä¸‹è½½
- å“åº”å¼è®¾è®¡

**æŠ€æœ¯æ ˆï¼š**
- Vue 3
- Element Plus
- Vite
- TypeScript

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ¨¡å—åŒ–è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         unplugin-webfont           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Core    â”‚  â”‚   unplugin   â”‚   â”‚
â”‚  â”‚  Engine  â”‚â†’ â”‚   Plugin     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â†“              â†“              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   CLI    â”‚  â”‚   Web UI     â”‚   â”‚
â”‚  â”‚   Tool   â”‚  â”‚   Interface  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
è¾“å…¥å­—ä½“
    â†“
[æ ¼å¼æ£€æµ‹] detector.ts
    â†“
[æ ¼å¼è½¬æ¢] converter.ts
    â†“
[å­é›†åŒ–å¤„ç†] subsetter.ts (å¯é€‰)
    â†“
[CSSç”Ÿæˆ] generator.ts
    â†“
è¾“å‡ºæ–‡ä»¶
```

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### ä»£ç ç»Ÿè®¡

| ç±»åˆ« | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° |
|------|--------|----------|
| æ ¸å¿ƒæ¨¡å— | 5 | ~800è¡Œ |
| unpluginæ’ä»¶ | 4 | ~300è¡Œ |
| CLIå·¥å…· | 5 | ~400è¡Œ |
| Web UI | 4 | ~300è¡Œ |
| ç±»å‹å®šä¹‰ | 1 | ~100è¡Œ |
| æµ‹è¯• | 1 | ~50è¡Œ |
| **æ€»è®¡** | **20** | **~2000è¡Œ** |

### æ–‡æ¡£ç»Ÿè®¡

| æ–‡æ¡£ | å­—æ•° |
|------|------|
| README.md | 3000+ |
| QUICKSTART.md | 1500+ |
| USAGE_GUIDE.md | 3000+ |
| ARCHITECTURE.md | 2000+ |
| IMPLEMENTATION_GUIDE.md | 2500+ |
| **æ€»è®¡** | **12000+å­—** |

### ä¾èµ–ç»Ÿè®¡

**ç”Ÿäº§ä¾èµ–ï¼š** 11ä¸ª
- fontkit, opentype.js, fontmin
- wawoff2, pako
- unplugin, glob
- commander, inquirer, chalk, ora

**å¼€å‘ä¾èµ–ï¼š** 10ä¸ª
- TypeScript, tsup, vitest
- Vue 3, Element Plus, Vite
- ESLint, Prettier

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. Webå¼€å‘è€…
```typescript
// åœ¨Viteé¡¹ç›®ä¸­ä¸€é”®ä¼˜åŒ–å­—ä½“
WebFont({
  include: './fonts/*.ttf',
  text: 'ç½‘ç«™æ–‡å­—',
  formats: ['woff2']
})
```

### 2. è®¾è®¡å¸ˆ
```bash
# å¿«é€Ÿè½¬æ¢è®¾è®¡ç¨¿å­—ä½“
webfont convert design-font.ttf -o output/ -c
```

### 3. è¿ç»´äººå‘˜
```bash
# æ‰¹é‡å¤„ç†å­—ä½“æ–‡ä»¶
webfont convert "fonts/*.ttf" \
  --formats woff2,woff \
  --output dist/fonts
```

### 4. å†…å®¹ç¼–è¾‘
```bash
# å¯åŠ¨å¯è§†åŒ–ç•Œé¢æ“ä½œ
webfont serve
```

---

## ğŸ’¡ äº®ç‚¹ç‰¹æ€§

### 1. é›¶é…ç½®ä½¿ç”¨
```typescript
// æœ€ç®€é…ç½®
WebFont({ include: './font.ttf' })
```

### 2. æè‡´å‹ç¼©
- WOFF2æ ¼å¼ï¼šä¸šç•Œæœ€å°
- å­é›†åŒ–ï¼šå‡å°‘99%+ä½“ç§¯
- æ™ºèƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨å»é™¤æ— ç”¨æ•°æ®

### 3. å¼€å‘ä½“éªŒ
- TypeScriptå…¨é¢æ”¯æŒ
- è¯¦ç»†çš„ç±»å‹å®šä¹‰
- å‹å¥½çš„é”™è¯¯æç¤º
- ä¸°å¯Œçš„ä½¿ç”¨æ–‡æ¡£

### 4. æ€§èƒ½ä¼˜åŒ–
- è‡ªåŠ¨ç”Ÿæˆfont-display: swap
- æ”¯æŒå­—ä½“é¢„åŠ è½½æç¤º
- æŒ‰éœ€åŠ è½½ç­–ç•¥

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1åˆ†é’Ÿä¸Šæ‰‹

```bash
# å®‰è£…
npm install unplugin-webfont -D

# é…ç½®ï¼ˆvite.config.tsï¼‰
import WebFont from 'unplugin-webfont/vite'
export default {
  plugins: [
    WebFont({
      include: './fonts/*.ttf',
      text: 'ä½ å¥½ä¸–ç•Œ'
    })
  ]
}

# æ„å»º
npm run build
```

---

## ğŸ“ˆ é¡¹ç›®è¿›åº¦

### å·²å®Œæˆ âœ…

- [x] æ ¸å¿ƒè½¬æ¢å¼•æ“
- [x] æ–‡æœ¬å­é›†åŒ–
- [x] unpluginæ’ä»¶
- [x] CLIå·¥å…·
- [x] Webç•Œé¢
- [x] å®Œæ•´æ–‡æ¡£
- [x] ä½¿ç”¨ç¤ºä¾‹
- [x] é¡¹ç›®é…ç½®

### å¾…å®Œå–„ ğŸ”„

- [ ] å®Œæ•´çš„å•å…ƒæµ‹è¯•
- [ ] E2Eæµ‹è¯•
- [ ] CI/CDé…ç½®
- [ ] Web Workerä¼˜åŒ–
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•

### æœªæ¥è®¡åˆ’ ğŸ“…

- [ ] æ”¯æŒæ›´å¤šæ ¼å¼ï¼ˆSVGå­—ä½“ï¼‰
- [ ] å­—ä½“ç¼–è¾‘åŠŸèƒ½
- [ ] æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ
- [ ] VSCodeæ‰©å±•
- [ ] åœ¨çº¿æœåŠ¡

---

## ğŸ¤ è´¡çŒ®

é¡¹ç›®å®Œå…¨å¼€æºï¼Œæ¬¢è¿è´¡çŒ®ï¼

**å¦‚ä½•è´¡çŒ®ï¼š**
1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤å˜æ›´
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

---

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [@yourusername](https://github.com/yourusername/unplugin-webfont)
- **Issues**: [æäº¤é—®é¢˜](https://github.com/yourusername/unplugin-webfont/issues)
- **Discussions**: [å‚ä¸è®¨è®º](https://github.com/yourusername/unplugin-webfont/discussions)

---

## ğŸ“„ è®¸å¯è¯

[MIT License](./LICENSE) Â© 2024

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [fontkit](https://github.com/foliojs/fontkit) - å­—ä½“è§£æ
- [fontmin](https://github.com/ecomfe/fontmin) - å­—ä½“å­é›†åŒ–
- [unplugin](https://github.com/unjs/unplugin) - ç»Ÿä¸€æ’ä»¶æ¡†æ¶
- [opentype.js](https://github.com/opentypejs/opentype.js) - OpenTypeå¤„ç†

---

**é¡¹ç›®çŠ¶æ€ï¼š** ğŸŸ¢ æ´»è·ƒå¼€å‘ä¸­

**æœ€åæ›´æ–°ï¼š** 2024-12-03

**ç‰ˆæœ¬ï¼š** 0.1.0